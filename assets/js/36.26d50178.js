(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{500:function(v,_,t){"use strict";t.r(_);var d=t(29),a=Object(d.a)({},(function(){var v=this,_=v.$createElement,t=v._self._c||_;return t("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[t("h1",{attrs:{id:"linux-文件权限"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux-文件权限"}},[v._v("#")]),v._v(" Linux 文件权限")]),v._v(" "),t("p"),t("div",{staticClass:"table-of-contents"},[t("ul",[t("li",[t("a",{attrs:{href:"#查看文件权限"}},[v._v("查看文件权限")])]),t("li",[t("a",{attrs:{href:"#默认文件权限"}},[v._v("默认文件权限")])]),t("li",[t("a",{attrs:{href:"#改变权限"}},[v._v("改变权限")])]),t("li",[t("a",{attrs:{href:"#改变所属关系"}},[v._v("改变所属关系")]),t("ul",[t("li",[t("a",{attrs:{href:"#改变所属用户与组"}},[v._v("改变所属用户与组")])]),t("li",[t("a",{attrs:{href:"#改变组"}},[v._v("改变组")])]),t("li",[t("a",{attrs:{href:"#文件共享"}},[v._v("文件共享")])])])])])]),t("p"),v._v(" "),t("p",[v._v("[toc]")]),v._v(" "),t("h2",{attrs:{id:"查看文件权限"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看文件权限"}},[v._v("#")]),v._v(" 查看文件权限")]),v._v(" "),t("p",[t("code",[v._v("ls -l")])]),v._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/QuinnTian/imgchr/imgs/image-20220213183337993.png",alt:"image-20220213183337993"}})]),v._v(" "),t("p",[v._v("第一列含义")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("标识")]),v._v(" "),t("th",[v._v("含义")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("-")]),v._v(" "),t("td",[v._v("文件")])]),v._v(" "),t("tr",[t("td",[v._v("d")]),v._v(" "),t("td",[v._v("目录")])]),v._v(" "),t("tr",[t("td",[v._v("l")]),v._v(" "),t("td",[v._v("链接")])]),v._v(" "),t("tr",[t("td",[v._v("c")]),v._v(" "),t("td",[v._v("字符型设备")])]),v._v(" "),t("tr",[t("td",[v._v("b")]),v._v(" "),t("td",[v._v("块设备")])]),v._v(" "),t("tr",[t("td",[v._v("n")]),v._v(" "),t("td",[v._v("网络设备")])])])]),v._v(" "),t("p",[v._v("后面三组分别代表对象所属用户、对象所属组、系统其他用户的权限")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("标识")]),v._v(" "),t("th",[v._v("含义")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("r")]),v._v(" "),t("td",[v._v("可读")])]),v._v(" "),t("tr",[t("td",[v._v("w")]),v._v(" "),t("td",[v._v("可写")])]),v._v(" "),t("tr",[t("td",[v._v("x")]),v._v(" "),t("td",[v._v("可执行")])]),v._v(" "),t("tr",[t("td",[v._v("-")]),v._v(" "),t("td",[v._v("无此权限")])])])]),v._v(" "),t("h2",{attrs:{id:"默认文件权限"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#默认文件权限"}},[v._v("#")]),v._v(" 默认文件权限")]),v._v(" "),t("p",[t("code",[v._v("touch newfile")]),v._v("创建文件时默认赋予的权限，使用"),t("code",[v._v("umask")]),v._v("更改")]),v._v(" "),t("p",[v._v("查看 "),t("code",[v._v("umask")])]),v._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/QuinnTian/imgchr/imgs/image-20220213184154470.png",alt:"image-20220213184154470"}})]),v._v(" "),t("p",[v._v("第一位黏着位，后三位代表文件八进制值")]),v._v(" "),t("p",[v._v("八进制文件权限")]),v._v(" "),t("p",[v._v("如 0022")]),v._v(" "),t("ul",[t("li",[v._v("第一位黏着位")]),v._v(" "),t("li",[v._v("第二位所属用户三位二进制权限转换成八进制")]),v._v(" "),t("li",[v._v("第三位所属组文件权限三位二进制权限转换成八进制")]),v._v(" "),t("li",[v._v("第四位其他用户文件权限三位二进制权限转换成八进制")])]),v._v(" "),t("p",[v._v("转换权限")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("权限")]),v._v(" "),t("th",[v._v("二进制")]),v._v(" "),t("th",[v._v("八进制")]),v._v(" "),t("th",[v._v("含义")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("---")]),v._v(" "),t("td",[v._v("000")]),v._v(" "),t("td",[v._v("0")]),v._v(" "),t("td",[v._v("没有权限")])]),v._v(" "),t("tr",[t("td",[v._v("--x")]),v._v(" "),t("td",[v._v("001")]),v._v(" "),t("td",[v._v("1")]),v._v(" "),t("td",[v._v("只有执行权限")])]),v._v(" "),t("tr",[t("td",[v._v("-w-")]),v._v(" "),t("td",[v._v("010")]),v._v(" "),t("td",[v._v("2")]),v._v(" "),t("td",[v._v("只有写入权限")])]),v._v(" "),t("tr",[t("td",[v._v("-wx")]),v._v(" "),t("td",[v._v("011")]),v._v(" "),t("td",[v._v("3")]),v._v(" "),t("td",[v._v("只有写入和执行权限")])]),v._v(" "),t("tr",[t("td",[v._v("r--")]),v._v(" "),t("td",[v._v("100")]),v._v(" "),t("td",[v._v("4")]),v._v(" "),t("td",[v._v("只有读取权限")])]),v._v(" "),t("tr",[t("td",[v._v("r-x")]),v._v(" "),t("td",[v._v("101")]),v._v(" "),t("td",[v._v("5")]),v._v(" "),t("td",[v._v("只有读取和执行权限")])]),v._v(" "),t("tr",[t("td",[v._v("rw-")]),v._v(" "),t("td",[v._v("110")]),v._v(" "),t("td",[v._v("6")]),v._v(" "),t("td",[v._v("只有读取和写入权限")])]),v._v(" "),t("tr",[t("td",[v._v("rwx")]),v._v(" "),t("td",[v._v("111")]),v._v(" "),t("td",[v._v("7")]),v._v(" "),t("td",[v._v("读取、写入和执行权限")])])])]),v._v(" "),t("p",[v._v("Linux 中默认文件创建授予权限是644，来源如下")]),v._v(" "),t("ul",[t("li",[v._v("umask 默认值022，文件全权限是只有读取和写入权限 666")]),v._v(" "),t("li",[v._v("666-022=644，即用户可以读取和写入，本组和其他用户只能读取")])]),v._v(" "),t("p",[v._v("Linux 中目录的默认权限是755，来源如下")]),v._v(" "),t("ul",[t("li",[v._v("目录全权限是777，可读写和执行")]),v._v(" "),t("li",[v._v("777-022=755，即用户可以读取写入执行，同组用户和其他用户只能读取和执行")])]),v._v(" "),t("p",[v._v("更改umask 值")]),v._v(" "),t("p",[t("code",[v._v("umask 026")]),v._v(" 那么新建的文件会变成640，新建的目录会变为751")]),v._v(" "),t("p",[v._v("umask 设置的值存放在")]),v._v(" "),t("ul",[t("li",[v._v("/etc/profile(一般存放在此地)")]),v._v(" "),t("li",[v._v("/etc/login.defs(ubuntu)")])]),v._v(" "),t("h2",{attrs:{id:"改变权限"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#改变权限"}},[v._v("#")]),v._v(" 改变权限")]),v._v(" "),t("p",[v._v("改变文件和目录的权限")]),v._v(" "),t("p",[t("code",[v._v("chmod [opt] [mode] file")])]),v._v(" "),t("p",[v._v("使用八进制，如授予用户全部权限，同组用户只有读取和执行权限，其他用户没有任何权限")]),v._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[v._v("chmod 760 file\n\n")])])]),t("p",[v._v("使用符号模式，如下授予其他用户读取权限")]),v._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[v._v("chmod o+r file\n")])])]),t("p",[v._v("第一个符号主要有，指定授予对象")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("符号")]),v._v(" "),t("th",[v._v("含义")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("u")]),v._v(" "),t("td",[v._v("用户")])]),v._v(" "),t("tr",[t("td",[v._v("g")]),v._v(" "),t("td",[v._v("组")])]),v._v(" "),t("tr",[t("td",[v._v("o")]),v._v(" "),t("td",[v._v("其他")])]),v._v(" "),t("tr",[t("td",[v._v("a")]),v._v(" "),t("td",[v._v("同时设置上面三个")])])])]),v._v(" "),t("p",[v._v("第二个符号，权限授予符")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("符号")]),v._v(" "),t("th",[v._v("含义")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("+")]),v._v(" "),t("td",[v._v("增加权限")])]),v._v(" "),t("tr",[t("td",[v._v("-")]),v._v(" "),t("td",[v._v("减少权限")])]),v._v(" "),t("tr",[t("td",[v._v("=")]),v._v(" "),t("td",[v._v("赋予权限")])])])]),v._v(" "),t("p",[v._v("第三个符号，授予的权限")]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[v._v("符号")]),v._v(" "),t("th",[v._v("含义")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[v._v("r")]),v._v(" "),t("td",[v._v("读取")])]),v._v(" "),t("tr",[t("td",[v._v("w")]),v._v(" "),t("td",[v._v("写入")])]),v._v(" "),t("tr",[t("td",[v._v("x")]),v._v(" "),t("td",[v._v("执行")])]),v._v(" "),t("tr",[t("td",[v._v("X")]),v._v(" "),t("td",[v._v("如果对象是目录或者它已经有执行权限，赋予执行权限")])]),v._v(" "),t("tr",[t("td",[v._v("s")]),v._v(" "),t("td",[v._v("运行时从新设置 UID 或 GID")])]),v._v(" "),t("tr",[t("td",[v._v("t")]),v._v(" "),t("td",[v._v("保留文件或目录")])]),v._v(" "),t("tr",[t("td",[v._v("u")]),v._v(" "),t("td",[v._v("将权限设置成和属主一样")])]),v._v(" "),t("tr",[t("td",[v._v("g")]),v._v(" "),t("td",[v._v("同组一样")])]),v._v(" "),t("tr",[t("td",[v._v("o")]),v._v(" "),t("td",[v._v("同其他用户一样")])])])]),v._v(" "),t("ul",[t("li",[v._v("选项 -R 递归设置目录下所有文件")])]),v._v(" "),t("h2",{attrs:{id:"改变所属关系"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#改变所属关系"}},[v._v("#")]),v._v(" 改变所属关系")]),v._v(" "),t("h3",{attrs:{id:"改变所属用户与组"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#改变所属用户与组"}},[v._v("#")]),v._v(" 改变所属用户与组")]),v._v(" "),t("p",[v._v("chmod opt ower[.group] filename")]),v._v(" "),t("p",[v._v("如")]),v._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[v._v("改变为users组下的用户tom\nchmod tom.users file1\n只改变用户\nchmod tom file1\n只改变组\nchmod .users file1\n当用户名和用户组名一致可以简写,如用户名和组名都是tome\nchmod tom. file1\n")])])]),t("ul",[t("li",[v._v("这里的文件可以是文件也是目录")]),v._v(" "),t("li",[v._v("-R 可以递归执行目录下所有文件")])]),v._v(" "),t("h3",{attrs:{id:"改变组"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#改变组"}},[v._v("#")]),v._v(" 改变组")]),v._v(" "),t("p",[t("code",[v._v("chgrp 组名 文件名")])]),v._v(" "),t("h3",{attrs:{id:"文件共享"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#文件共享"}},[v._v("#")]),v._v(" 文件共享")]),v._v(" "),t("p",[v._v("待添加")])])}),[],!1,null,null,null);_.default=a.exports}}]);